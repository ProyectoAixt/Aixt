# Smoke Testing for PWM Module

The table below lists the Smoke test scenarios for the PWM module. Follow these to complete the Smoke Testing Certification for this module.
  

| ID            | Name                               | Scenario              | Objectives 																																																																																																																																																																																																																																											                  | Description 																																																																																																																										 | Gherkin Steps 																																																																																																										| Steps    																																																																																																																																																																																																																																																																													   | Code Example |
| ------------- | :------:                           | :------:              | :------:   																																																																																																																																																																																																																																											                  | :------:    																																																																																																																										 | :------:      																																																																																																										| :------: 																																																																																																																																																																																																																																																																													   | :------:     |
| **CP-PWM-1**  | PWM output | PWM output control with increasing duty cycle| **Verify the correct operation of the PWM control:** The scenario seeks to confirm that the code is able to control the PWM output effectively, adjusting the duty cycle according to the given specifications. <br>**Validate the gradual increase of the duty cycle:** The scenario seeks to verify that the duty cycle is increased by 10 units each time the cycle is executed, until the value of 250 is reached, at which point it is reset to 0. <br>**Confirm the proper configuration of the output pin:** It is intended to ensure that pin 5 is correctly configured as output, which is essential for the correct operation of the PWM control. <br>**Evaluate the continuous repetition of the cycle:** It is sought to verify that the duty cycle setting cycle is continuously repeated until the function is stopped, which guarantees a continuous and stable control of the PWM output. <br>**Ensure correct PWM output setting:** The ultimate goal is to ensure that the PWM output is set correctly according to the set duty cycle, which is essential for precise brightness control or other applications requiring pulse width modulation.  | This scenario tests the basic functionality of the code, which is to control the PWM output with a duty cycle that increases by 10 every 250 ms and resets to 0 when it reaches 250. | **Given** a global variable val initialized to 0.<br>And pin 5 is configured as output. <br>**When** the duty cycle is set to val. <br>And 250ms have elapsed. <br>And val is incremented by 10. <br>And if val is equal to 250, it returns to 0. <br>Then the PWM output must be set to the new duty cycle. <br>And this should be repeated until the function is stopped.| 1.Initialize global variable val to 0. <br>2.Configure pin 5 as an output. <br>3.Set the duty cycle to the value of val. <br>4.Wait for 250 milliseconds. <br>5.Increment val by 10. <br>6.If val is equal to 250, reset it to 0. <br>7.Configure the PWM output to the new duty cycle. <br>8.Repeat steps 3-7 continuously until the function is stopped.| <br>**1. Correct PWM Output Control:**<br>The PWM output is controlled effectively, adjusting the duty cycle according to the specified increments.<br>The duty cycle changes smoothly and accurately as the code executes. <br>**2. Gradual Increase of Duty Cycle:**<br>The duty cycle increases by 10 units each time the cycle executes.<br>The duty cycle reaches the maximum value of 250 and then resets to 0. <br>**3. Proper Configuration of Output Pin:**<br>Pin 5 is correctly configured as an output, enabling the PWM control. <br>The output pin functions as expected, reflecting the changes in duty cycle.<br>**4. Continuous Cycle Repetition:**<br>The duty cycle adjustment cycle repeats continuously until the function is stopped.<br>The repetition is consistent and uninterrupted, ensuring stable and continuous PWM control. <br>**5. Accurate PWM Output Adjustment:**<br>The PWM output is adjusted correctly according to the established duty cycle.<br>The luminosity or other applications that require pulse width modulation are controlled precisely.| ExampleCode1 |
	  
-   ExampleCode1

```v
import pin // import the pin module
import pwm // import the pwm module
import time // import the time module

pin.setup(5, output)
mut duty := 0

for {
	pwm.write(5, duty)
	time.sleep_ms(250)
	duty = duty + 10
	if (duty == 250) {
		duty = 0
	}
}
```