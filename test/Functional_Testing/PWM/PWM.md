# Functional Testing for PWM Module

The table below lists the Functional test scenarios for the PWM module. Follow these to complete the Functional Testing Certification for this module.
  

| ID            | Name       | Scenario 									| Objectives                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Description                                                                                                                                                                          | Gherkin Steps                                                                                                                                                                                                                                                                                                                                                              | Steps    																																																																			                                                                       | Expected results 																																																																																																																																																																																																																																																																		     | Code Example |
| ------------- | :------:   | :------: 									| :------:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | :------:                                                                                                                                                                             | :------:                                                                                                                                                                                                                                                                                                                                                                   | :------: 																																																																																			       | :------:         																																																																																																																																																																																																																																																																			 | :------:     |
| **CP-PWM-2**  | variation of the intensity of a led| ADC Read and PWM Write| **1.Verify Correct ADC Reading**<br>.-Ensure that the ADC module is properly configured and initialized.<br>-Check that the ADC reading from channel 3 is accurate and stable.<br><br>**2.Validate PWM Module Configuration.**<br>-Confirm that the PWM module is correctly configured and initialized.<br>-Ensure that the PWM output pin is properly set up and enabled.<br><br>**3.Evaluate PWM Duty Cycle Update.**<br>-Verify that the PWM duty cycle is updated correctly based on the ADC reading.<br>-Check that the PWM duty cycle changes smoothly and accurately.<br><br>**4.Assess LED Intensity Variation**<br>-Confirm that the LED intensity varies proportionally to the PWM duty cycle.<br>-Ensure that the LED brightness changes smoothly and linearly with the ADC reading.<br><br>**5.Validate Continuous Operation**<br>-Verify that the ADC reading and PWM duty cycle update process repeats continuously.<br>-Check that the system operates stably and without interruptions.| This test scenario verifies the correct operation of reading from the ADC and writing to the PWM module. It starts with the system in a stable initial state and with the correct configuration of the ADC and PWM module. It then reads the ADC value on channel 3 and stores it correctly. Next, it writes the stored value to the PWM module, correctly updating the duty cycle. Finally, it verifies that the PWM module is enabled and that the output signal is generated according to the updated duty cycle.| **Given:** Sets the initial state of the system, including the correct configuration of the ADC and PWM module.<br>**When:** Specifies the action of reading the ADC value and writing it to the PWM module.<br>**Then:** Verifies that the ADC value is stored correctly and that the PWM duty cycle is updated correctly. Also verifies that the PWM module is enabled and that the output signal is generated according to the updated duty cycle.| **Environment Configuration:**<br>Ensure that you have access to the hardware required to run the code.<br>-Verify that the ADC and PWM module are properly connected and configured.<br><br>**Code Execution:**<br>-Load the provided code into a development environment compatible with the microcontroller used.<br>-Start the code execution on the microcontroller.<br><br>**Tests to be performed:**<br>1.ADC Read Test:<br>-Verify that the value read from the ADC channel is correct and within the expected range.<br>-Simulate different input values for the ADC and observe the system response.<br>2. PWM Write Test:<br>-Confirm that the calculated duty cycle is set correctly on the PWM module CCP1.<br>-Vary the ADC value to observe how it affects the PWM duty cycle.<br>3. Behavioral Validation:<br>-Observe the system behavior on an oscilloscope or visualization tool to confirm that the PWM duty cycle varies with the ADC value.<br>4. Analysis of Results:<br>-Record and analyze the results obtained during testing.<br>-Identify possible problems or unexpected behavior and propose solutions.| ExampleCode1 |


-   ExampleCode1
```v
import pwm // import the pwm module
import adc // import the adc module
adc.setup() 

for {
	value := adc.read(3) // Stores the ADC value
	pwm.write(value) // Calculates the duty cycle and sets it in the PWM module CCP1
}
```